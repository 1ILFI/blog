/* 导航栏浮动容器样式 */
.floating-nav {
    position: fixed; /* 改为fixed以避免滚动影响 */
    top: 100px;
    left: 20px;
    z-index: 1000;
    background-color: var(--nav-bg-primary);
    border-radius: var(--container-border-radius);
    box-shadow: var(--nav-shadow);
    transition: transform var(--transition-fast); /* 减少过渡动画时间提高响应性 */
    overflow: hidden;
    width: auto;
    backdrop-filter: var(--nav-backdrop-filter);
    will-change: transform; /* 增加性能优化 */
    transform: translate3d(0, 0, 0); /* 启用GPU加速 */
    touch-action: none; /* 防止触摸设备上的滚动干扰 */
}

/* 鼠标悬停时的浮动阴影效果 */
.floating-nav:hover {
    box-shadow: var(--card-shadow-hover);
}

/* 导航栏头部区域样式 */
.nav-header {
    padding: 2px;
    background-color: transparent;
    cursor: grab; /* 更改鼠标样式为抓取状态 */
    display: flex;
    justify-content: center;
    align-items: center;
    user-select: none;
    border-radius: var(--container-border-radius);
    transition: all var(--transition-medium);
}

/* 拖动时头部区域样式 */
.nav-header.dragging {
    cursor: grabbing; /* 抓取状态 */
    background-color: var(--blog-accent-primary); /* 使用主题强调色提供视觉反馈 */
}

/* 导航内容区域样式 */
.nav-content {
    padding: 0px;
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: all var(--transition-medium);
    background-color: transparent;
}

/* 单个菜单项样式 */
.nav-item {
    margin-bottom: 5px;
    border-radius: var(--container-border-radius);
    overflow: hidden;
    background-color: transparent;
    transition: all var(--transition-medium);
    box-shadow: 0 2px 8px var(--nav-border);
}

/* 最后一个菜单项样式 */
.nav-item:last-child {
    margin-bottom: 0;
}

/* 菜单项悬停效果 */
.nav-item:hover {
    transform: translateY(-2px);
    box-shadow: var(--card-shadow-hover);
    background-color: transparent;
}

/* 自定义菜单项样式 */
.custom-menu-item {
    /* NavMenuItem组件样式协调 */
    overflow: visible !important;
}

/* 菜单分组子项样式 */
::deep .nav-group-items {
    padding-left: 0;
    position: relative;
    background-color: transparent;
}

/* 菜单分组 summary 样式 */
::deep summary {
    cursor: pointer;
    user-select: none;
    list-style: none;
    padding: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: transparent;
}

/* 菜单链接样式 */
::deep .nav-link {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px;
    border-radius: var(--container-border-radius);
    text-decoration: none;
    color: var(--nav-text);
    transition: all var(--transition-fast);
    position: relative;
    background-color: var(--nav-bg-primary);
    backdrop-filter: var(--nav-backdrop-filter);
}

/* 菜单链接悬停效果 */
::deep .nav-link:hover {
    transform: translateY(-3px);
    box-shadow: var(--card-shadow-hover);
    background-color: var(--nav-bg-hover);
    color: var(--nav-text-hover);
}

/* 激活状态菜单链接样式 */
::deep .nav-link.active {
    background-color: var(--nav-bg-active);
    color: var(--nav-text-active);
}

/* 展开状态内容区域样式 */
.expanded .nav-content {
    max-height: 80vh; /* 最大高度，避免过长 */
    opacity: 1;
    padding: 8px;
    background-color: transparent;
}

/* 展开状态导航栏样式 */
.expanded {
    width: auto;
}

/* 展开状态头部样式 */
.expanded .nav-header {
    border-bottom: 1px solid var(--nav-border);
    border-radius: var(--container-border-radius) var(--container-border-radius) 0 0;
    background-color: transparent;
}

/* 折叠状态导航栏样式 */
.minimized {
    width: auto;
    border-radius: var(--container-border-radius);
}

/* 折叠状态头部样式 */
.minimized .nav-header {
    border-bottom: none;
}

/* 折叠状态内容区域样式 */
.minimized .nav-content {
    max-height: 0;
    padding: 0 0px;
}

/* 菜单图标容器样式 */
.menu-icon {
    width: 24px;
    height: 24px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    background-color: transparent;
}

/* 菜单图标 SVG 样式 */
.menu-icon ::deep svg {
    width: 24px;
    height: 24px;
    color: var(--nav-text);
    transition: all var(--transition-medium);
}

/* 菜单链接悬停时图标效果 */
.nav-link:hover .menu-icon ::deep svg {
    color: var(--nav-text-hover);
    transform: scale(1.1);
}

/* 激活状态菜单链接图标样式 */
.nav-link.active .menu-icon ::deep svg {
    color: var(--nav-text-active);
}

/* 折叠按钮（三横杠）背景彻底透明化 - 覆盖 Fluent UI CSS 变量 */
.collapse-btn {
    --neutral-fill-stealth-rest: transparent !important;
    --neutral-fill-stealth-hover: transparent !important;
    --neutral-fill-stealth-active: transparent !important;
    --neutral-fill-stealth-selected: transparent !important;
    --neutral-stroke-rest: transparent !important;
    --neutral-stroke-hover: transparent !important;
    --neutral-stroke-active: transparent !important;
    --neutral-stroke-focus: transparent !important;
    background: transparent !important;
    background-color: transparent !important;
    box-shadow: none !important;
    border: none !important;
}

/* 确保按钮所有状态下背景透明 */
.collapse-btn:hover,
.collapse-btn:active,
.collapse-btn:focus {
    background: transparent !important;
    background-color: transparent !important;
    box-shadow: none !important;
    border: none !important;
}

/* 导航图标容器样式 - 替代原按钮，实现纯透明图标 */
.nav-icon-container {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 4px;
    border-radius: 4px;
    transition: all var(--transition-medium);
    background: transparent;
}

.nav-icon-container:hover {
    transform: scale(1.1);
}

/* 确保图标容器中的图标无背景 */
.nav-icon-container ::deep svg {
    background-color: transparent;
    color: var(--nav-hamburger-color);
}

/* 响应式样式适配 */
@@media (max-width: 768px) {
    .menu-icon {
        width: 24px;
        height: 24px;
    }
    
    .menu-icon ::deep svg {
        width: 24px;
        height: 24px;
    }
}
